<!doctype html>
<html lang="ko" data-bs-theme="dark" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>중고 게시판</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/common/theme.css" th:href="@{/css/common/theme.css}" rel="stylesheet">
    <link href="/css/posts/list.css" th:href="@{/css/posts/list.css}" rel="stylesheet">
</head>
<body>
<div th:replace="fragments/header :: siteHeader"></div>

<main>
    <section class="container-xl my-4">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <div>
                <h1 class="h4 fw-bold mb-3"
                    th:text="${selectedCategoryName != null ? '카테고리 > ' + selectedCategoryName : '중고 게시판'}">
                    중고 게시판
                </h1>
                <p class="text-secondary mb-1" style="border-bottom:1px solid var(--line); padding-bottom:0.25rem;">
                    최근 등록된 상품을 확인해 보세요.
                </p>
                <!--        <div class="d-flex flex-wrap gap-2 mt-2" th:if="${!#lists.isEmpty(categories)}">-->
                <!--          <a th:class="${selectedCategoryId} == null ? 'btn btn-sm rounded-pill text-decoration-none px-3 btn-success text-dark' : 'btn btn-sm rounded-pill text-decoration-none px-3 btn-outline-light'"-->
                <!--             th:href="@{/posts}">전체</a>-->
                <!--          <a th:each="category : ${categories}"-->
                <!--             th:class="${category.id} == ${selectedCategoryId} ? 'btn btn-sm rounded-pill text-decoration-none px-3 btn-success text-dark' : 'btn btn-sm rounded-pill text-decoration-none px-3 btn-outline-light'"-->
                <!--             th:href="@{|/posts?category=${category.id}|}"-->
                <!--             th:text="${category.name}">카테고리</a>-->
                <!--        </div>-->
            </div>
        </div>

        <div class="alert alert-secondary text-secondary" role="alert" th:if="${#lists.isEmpty(posts)}">
            등록된 게시글이 없습니다.
        </div>

        <div class="post-grid" th:if="${!#lists.isEmpty(posts)}">
            <a class="post-card" th:each="post : ${posts}" th:href="@{|/posts/${post.id}|}">
                <div class="post-card__thumb"
                     th:style="|background-image:url('${post.thumbnailUrl}')|"
                     style="background-image:url('https://picsum.photos/400/300?random=80')"></div>
                <div class="post-card__body">
                    <div class="post-card__title" th:text="${post.title}">오메가 아쿠아테라 쿼츠</div>
                    <div class="post-card__price" th:text="${#numbers.formatInteger(post.price,3,'COMMA')} + '원'">
                        1,800,000원
                    </div>
                    <div class="text-secondary small" th:text="${post.categoryName}">카테고리</div>
                    <div class="d-flex align-items-center justify-content-between mt-2">
                        <span class="text-secondary small" th:text="${post.region}">서울 강남</span>
                        <span class="text-secondary small" th:text="${#temporals.format(post.createdAt,'M/d HH:mm')}">3/14 13:20</span>
                    </div>
                    <div class="mt-2" th:if="${post.safePay}">
                        <span class="badge-safe">안전결제</span>
                    </div>
                </div>
            </a>
        </div>
    </section>
</main>

<div th:replace="fragments/footer :: siteFooter"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
